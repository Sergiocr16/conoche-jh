
<form name="editForm" role="form" novalidate ng-submit="vm.save()" show-validation>

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                ng-click="vm.clear()">&times;</button>

        <div class="caption font-red-sunglo">
            <i class="icon-settings font-red-sunglo"></i>
            <span id="myRealTimeEventImageLabel"  class="caption-subject bold uppercase" data-translate="conocheApp.realTimeEventImage.home.createOrEditLabel"> Create or edit a Real Time Event Image</span>
        </div>
    </div>
    <div class="modal-body">
        <div class="alert alert-warning"  ng-show="editForm.image.$invalid" >
            <p data-translate="conocheApp.realTimeEventImage.required"
            ng-show="editForm.image.$error.required">
                Debe selecionar una imagen.
            </p>
        </div>

        <div class="form-group form-md-line-input" ngf-drop ngf-change="vm.setImage($file)" ngf-pattern="'image/*'">
                <div ng-if="vm.displayImage" class="image-overlay-position" >
                    <div class="image-overlay-container image-overlay-view-first">
                        <img data-ng-src="{{'data:' + vm.displayImageType + ';base64,' + vm.displayImage}}" style="width: 100%;" alt="realTimeEventImage image"/>
                        <div class="image-overlay-mask">
                            <a href="" ng-click="vm.displayImage=null;vm.displayImageType=null;" class="btn btn-icon-only green pull-left">
                                <i class="fa fa-times"></i>
                            </a>
                            <p >{{vm.displayImageType}}, {{vm.byteSize(vm.displayImage)}}</p>
                        </div>
                    </div>
                </div>
                <button type="button" ngf-select class="btn green btn-block"
                        ngf-change="vm.setImage($file)" accept="image/*" data-translate="entity.action.addimage">
                    Add image
                </button>

            <input type="hidden" class="form-control" name="image" id="field_image"
                   ng-model="vm.displayImage"
                   required
            />
            <label class="control-label" data-translate="conocheApp.realTimeEventImage.image" for="field_image">Image</label>
        </div>

        <div class="form-group form-md-line-input">
            <input type="text" class="form-control" name="description" id="field_description"
                   ng-model="vm.realTimeEventImage.description"
                   ng-maxlength="55"/>
            <label class="control-label" data-translate="conocheApp.realTimeEventImage.description" for="field_description">Description</label>
            <div class="help-block" ng-show="editForm.description.$invalid">
                <p
                   ng-show="editForm.description.$error.maxlength" >
                    This field cannot be longer than 55 characters.
                </p>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button ng-if="!vm.isSaving" type="button" class="btn btn-default" data-dismiss="modal" ng-click="vm.clear()">
            <span data-translate="entity.action.cancel">Cancel</span>
        </button>
        <button type="submit" ng-disabled="editForm.$invalid || vm.isSaving" class="btn btn-danger">
            <div ng-if="vm.isSaving">
                <span class="pull-left"> {{vm.progress}}% </span>
                <div  class="sk-folding-cube pull-right">

                    <div class="sk-cube1 sk-cube"></div>
                    <div class="sk-cube2 sk-cube"></div>
                    <div class="sk-cube4 sk-cube"></div>
                    <div class="sk-cube3 sk-cube"></div>
                </div>
            </div>
            <div ng-if="!vm.isSaving">
                <span class="glyphicon glyphicon-save"></span>&nbsp;<span data-translate="entity.action.save">Save</span>
            </div>
        </button>
    </div>
</form>

